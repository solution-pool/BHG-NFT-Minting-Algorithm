let nc,nvc,gf,DF,cf,p1=t=>parseInt(t),e1=()=>{throw new Error(1)};class Zm{constructor(t){t=p1(t);this.VZ=[],this.Z=[],this.v=0,this.s=RS,this.n=t,this.t=t*t,this.g=RS;for(let t=0;t<this.t;t++){let s=[];s.i=t,s.s=RS,s.co=0,s.ZV=[],this.Z[t]=s}}a2(t,s){this.X=t,this.Y=s}a3(t){t=p1(t);let s=this.v,i=this.X[t],h=this.Y[t],e=this.a8(i,h);return this.a5(e,s),this.VZ[s]=e,this.v>=this.s-1&&(this.VZ=[],this.s=2*this.s),this.v+=1,s}a4(t){return t=p1(t),this.a7(this.VZ[t],t),this.VZ[t]=-1,1}a5(t,s){t=p1(t),s=p1(s);let i=this.Z[t];return null==i&&((i=[]).co=0,i.ZV=[],i.i=0,i.s=SIZE,this.Z.push(i)),i.ZV[i.co]=s,i.co+=1,i.co>=i.s-1?this.a6(i):1}a6(t){let s=2*t.s;return t.ZV=[],t.s=s,s>this.g&&(this.g=s),this.Z.push(t),1}a7(t,s){t=p1(t),s=p1(s);let i=this.Z[t];for(let t=0;t<i.co;t++)if(i.ZV[t]==s)return i.ZV[t]=i.ZV[i.co-1],i.co-=1,1;return-1}a8(t,s){let i=this.n;return i*p1(t*i)+p1(s*i)}a9(t){t=p1(t);let s=this.X[t],i=this.Y[t],h=p1(this.a8(s,i)),e=p1(this.VZ[t]);return e<0?-1:h!=e?(this.a7(e,t),this.a5(h,t),this.VZ[t]=h,1):-1}a0(t,s,i,h){let e=this.n,n=p1(t*e),r=p1(s*e),l=0,c=i*i;for(let i=Math.max(n-1,0);i<Math.min(n+2,e);i++)for(let n=Math.max(r-1,0);n<Math.min(r+2,e);n++){let r=this.Z[i*e+n];for(let i=0;i<r.co;i++){let e=t-this.X[r.ZV[i]],n=s-this.Y[r.ZV[i]];e*e+n*n<c&&(h[l]=r.ZV[i],l+=1)}}return l}}class Se{constructor(t,s){this.X=[],_e(this.X,t,0),this.Y=[],_e(this.Y,t,0),this.VA=[],_e(this.VA,t,0),this.VS=[],_e(this.VS,t,-1),this.EV=[],_e(this.EV,2*t,-1),this.VE=[],_e(this.VE,2*t,-1),this.nmax=t,this.v=0,this.eN=0,this.sn=0,this.zw=s,this.n=1/s,this.n<3&&(this.n=1,this.zw=1),this.zm=new Zm(this.n),this.zm.a2(this.X,this.Y)}_m(t,s){return t<0||t>1||s<0||s>1?-1:1}_n(t,s,i,h){this._m(t,s)<0&&el();let e=this.v;return this.X[e]=t,this.Y[e]=s,this.VA[e]=1,this.VS[e]=i,this.zm.a3(e),this.v=e+1,e}_o(t,s){return t<0||t>this.v-1||this.VA[t]<0||s<0||s>this.v-1||this.VA[s]<0?-1:1}_p(t,s){t=p1(t),s=p1(s);let i=this.eN;this._o(t,s)<0&&el(),this.EV[2*i]=t,this.EV[2*i+1]=s,_f(t,i,this.VE),_f(s,i,this.VE),this.eN+=1}_q(t){return this.EV[2*t]>-1&&this.EV[2*t+1]>-1?1:-1}_s(t){(t<0||t>this.eN-1)&&el();let s=this.EV[2*t],i=this.EV[2*t+1];this.EV[2*t]=-1,this.EV[2*t+1]=-1,s>-1&&_g(s,t,this.VE),i>-1&&_g(i,t,this.VE)}_t(t){let s=this.eN,i=0;for(let h=0;h<s;h++)if(this.EV[2*h]>-1){let s=this.EV[2*h],e=this.EV[2*h+1];t[i][0]=this.X[s],t[i][1]=this.Y[s],t[i][2]=this.X[e],t[i][3]=this.Y[e],i+=1}return i}_u(t){this.v;let s=0;for(let i=0;i<i;i++)this.VA[i]>-1&&(t[s][0]=this.X[i],t[s][1]=this.Y[i],s+=1);return s}_v(t){let s=this.X[this.EV[2*t]]-this.X[this.EV[2*t+1]],i=this.Y[this.EV[2*t]]-this.Y[this.EV[2*t+1]];return Math.sqrt(s*s+i*i)}_x(t,s,i,h){let e=[],n=this.sn,r=h.length;for(let l=0;l<r;l++){let r=h[l],c=t+Math.cos(r)*i,o=s+Math.sin(r)*i;e.push(this._n(c,o,n,1))}for(let t=0;t<e.length-1;t++)this._p(e[t],e[t+1]);this._p(e[0],e[r-1]),this.sn=n+1}_y(t,s=-1){this._q(t)<0&&el(),t<0&&el();let i=this.EV[2*t],h=this.EV[2*t+1],e=this.VS[i];if(e<0&&el(),s>0){let t=this.X[i]-this.X[h],e=this.Y[i]-this.Y[h];t*t+e*e<s*s&&el()}let n=.5*(this.X[i]+this.X[h]),r=.5*(this.Y[i]+this.Y[h]),l=this._n(n,r,e,1);this._s(t),this._p(i,l),this._p(h,l)}_z(t){this._q(t)<0&&el(),t<0&&el();let s,i,h=this.EV[2*t],e=this.EV[2*t+1];(h<0||e<0)&&el(),this.VE[2*h]==this.VE[2*e]?(s=this.VE[2*h+1],i=this.VE[2*e+1]):this.VE[2*h]==this.VE[2*e+1]?(s=this.VE[2*h+1],i=this.VE[2*e]):this.VE[2*h+1]==this.VE[2*e]?(s=this.VE[2*h],i=this.VE[2*e+1]):this.VE[2*h+1]==this.VE[2*e+1]?(s=this.VE[2*h],i=this.VE[2*e]):el();let n,r,l,c,o,f,a=this.EV[2*t],u=this.EV[2*t+1],p=0;return s>-1&&(n=this.EV[2*s],r=this.EV[2*s+1],l=this.X[n]-this.X[r],c=this.X[a]-this.X[u],o=this.Y[n]-this.Y[r],f=this.Y[a]-this.Y[u],p+=.5*Math.abs(l*f-o*c)),i>-1&&(n=this.EV[2*i],r=this.EV[2*i+1],l=this.X[n]-this.X[r],c=this.X[a]-this.X[u],o=this.Y[n]-this.Y[r],f=this.Y[a]-this.Y[u],p+=.5*Math.abs(l*f-o*c)),p<=0&&el(),p}a1(t){let s=this.v;for(let i=0;i<s;i++){if(this.X[i]<(RS-CS)/2/RS+t||this.X[i]>1-(RS-CS)/2/RS-t)return-1;if(this.Y[i]<(RS-CS)/2/RS+t||this.Y[i]>1-(RS-CS)/2/RS-t)return-1}return 1}_ab(){return this.eN}}class Di extends Se{constructor(t,s,i,h){super(t,s),this.SX=[],this.SY=[],this.SD=[],this.nearl=i,this.farl=h}_a(t){let s=[],i=this.v;for(let h=0;h<i;h++){this.SX[h]=0,this.SY[h]=0;let i=this.zm.a0(this.X[h],this.Y[h],this.farl,s);this._b(h,s,i,t,this.SX,this.SY)}for(let t=0;t<i;t++)this.VA[t]<0||(this.X[t]=this.X[t]+this.SX[t],this.Y[t]=this.Y[t]+this.SY[t]);for(let t=0;t<i;t++)if(!(this.VA[t]<0))try{this.zm.a9(t)}catch{}}_b(t,s,i,h,e,n){if(this.VA[t]<1)return-1;let r,l,c=this.VE[2*t],o=this.VE[2*t+1];r=this.EV[2*c]==t?this.EV[2*c+1]:this.EV[2*c],l=this.EV[2*o]==t?this.EV[2*o+1]:this.EV[2*o];let f=0,a=0;for(let e=0;e<i;e++){let i=s[e],n=this.X[t]-this.X[i],c=this.Y[t]-this.Y[i],o=Math.sqrt(n*n+c*c);if(i==r||i==l){if(o<this.nearl||o<=0)continue;f+=-n/o*h,a+=-c/o*h}else{if(o>this.farl||o<=0)continue;f+=n*(this.farl/o-1)*h,a+=c*(this.farl/o-1)*h}}return e[t]+=f,n[t]+=a,1}}function _d(t,s,i=1){let h=t._ab(),e=[],n=[],r=-1e5;for(let s=0;s<h;s++)try{let i=t._z(s);e[s]=i,n+=i,r=Math.max(r,i)}catch(t){}for(let h=0;h<e.length;h++)if(Math.random()<e[h]/r*i)try{t._y(h,s)}catch(t){}}function _e(t,s,i){for(let h=0;h<s;h++)t[h]=i;return t}function _f(t,s,i){i[2*t]<0?i[2*t]=s:i[2*t+1]=s}function _g(t,s,i){return i[2*t]==s?(i[2*t]=i[2*t+1],i[2*t+1]=-1):i[2*t+1]==s&&(i[2*t+1]=-1),i}function _h(){ctx.fillStyle="rgb("+BACK.toString()+")",ctx.fillRect(0,0,RS,RS)}function _k(t){let s=t.length;for(let i=0;i<s;i++){let s=t[i],h=s[0],e=s[1];ctx.strokeStyle=!gf||pe?"rgb("+BACK.toString()+")":"rgb("+cf.toString()+")",ctx.strokeRect(h*RS,e*RS,ONE*RS,ONE*RS)}}function _l(t){let s=t.length;for(let i=0;i<s;i++){let s=t[i],h=s[2]-s[0],e=s[3]-s[1],n=Math.atan2(e,h),r=[Math.cos(n),Math.sin(n)],l=Math.sqrt(h**2,e**2),c=Math.random()*l,o=s[0]+r[0]*c,f=s[1]+r[1]*c;ctx.strokeStyle=!gf||pe?"rgb("+BACK.toString()+")":"rgb("+cf.toString()+")",ctx.strokeRect(o*RS,f*RS,ONE*RS,ONE*RS)}}!function(t,s,i,h,e,n,r,l,c){function o(t){var s,i=t.length,e=this,n=0,r=e.i=e.j=0,l=e.S=[];for(i||(t=[i++]);h>n;)l[n]=n++;for(n=0;h>n;n++)l[n]=l[r=_&r+t[n%i]+(s=l[n])],l[r]=s;(e.g=function(t){for(var s,i=0,n=e.i,r=e.j,l=e.S;t--;)s=l[n=_&n+1],i=i*h+l[_&(l[n]=l[r=_&r+s])+(l[r]=s)];return e.i=n,e.j=r,i})(h)}function f(t,s){for(var i,h=t+"",e=0;e<h.length;)s[_&e]=_&(i^=19*s[_&e])+h.charCodeAt(e++);return u(s)}function a(i){try{return p?u(p.randomBytes(h)):(t.crypto.getRandomValues(i=new Uint8Array(h)),u(i))}catch(h){return[+new Date,t,(i=t.navigator)&&i.plugins,t.screen,u(s)]}}function u(t){return String.fromCharCode.apply(0,t)}var p,V=i.pow(h,6),E=i.pow(2,52),S=2*E,_=h-1,g=i["seed"+c]=function(t,e,n){var r=[],l=f(function t(s,i){var h,e=[],n=typeof s;if(i&&"object"==n)for(h in s)try{e.push(t(s[h],i-1))}catch(t){}return e.length?e:"string"==n?s:s+"\0"}((e=1==e?{entropy:!0}:e||{}).entropy?[t,u(s)]:null==t?a():t,3),r),p=new o(r);return f(u(p.S),s),(e.pass||n||function(t,s,h){return h?(i[c]=t,s):t})(function(){for(var t=p.g(6),s=V,i=0;E>t;)t=(t+i)*h,s*=h,i=p.g(1);for(;t>=S;)t/=2,s/=2,i>>>=1;return(t+i)/s},l,"global"in e?e.global:this==i)};if(f(i[c](),s),r&&r.exports){r.exports=g;try{p=require("crypto")}catch(t){}}else l&&l.amd&&l(function(){return g})}(this,[],Math,256,0,0,"object"==typeof module&&module,"function"==typeof define&&define,"random");let sl,ctx,ai,CS,sc=1,dp=[],pp=[],pn=p1(SIZE/(RYTHM+1)),ps=!1,pe=!1,pf=!1,ccs=[],ci=0,co=1,fcs=[];function m1(){let t=FRONT[0],s=FRONT[1],i=FRONT[2];if(t[0]>s[0])for(let i=t[0];i>=s[0];i--)ccs.push([i,t[1],t[2]]);else for(let i=t[0];i<=s[0];i++)ccs.push([i,t[1],t[2]]);if(t[1]>s[1])for(let i=t[1];i>=s[1];i--)ccs.push([s[0],i,t[2]]);else for(let i=t[1];i<=s[1];i++)ccs.push([s[0],i,t[2]]);if(t[2]>s[2])for(let i=t[2];i>=s[2];i--)ccs.push([s[0],s[1],i]);else for(let i=t[2];i<=s[2];i++)ccs.push([s[0],s[1],i]);if(s[0]>i[0])for(let t=s[0];t>=i[0];t--)ccs.push([t,s[1],s[2]]);else for(let t=s[0];t<=i[0];t++)ccs.push([t,s[1],s[2]]);if(s[1]>i[1])for(let t=s[1];t>=i[1];t--)ccs.push([i[0],t,s[2]]);else for(let t=s[1];t<=i[1];t++)ccs.push([i[0],t,s[2]]);if(s[2]>i[2])for(let t=s[2];t>=i[2];t--)ccs.push([i[0],i[1],t]);else for(let t=s[2];t<=i[2];t++)ccs.push([i[0],i[1],t])}function _se(){m1();let t=document.getElementById("canvas");t.width=SIZE,t.height=SIZE,ctx=t.getContext("2d"),sc=1,RYTHM>2?(CS=RS,step_unit=p1(RS/(RYTHM-1)),sl=p1(RS/(RYTHM-1))):sl=step_unit=CS=RS,gf=!0,ci=0,Math.seedrandom(INDEX),cf=FRONT[0],DF=new Di(NMAX,2*FARL,NEARL,FARL);let s=[];for(let t=0;t<INIT_NUM;t++)s.push(Math.random()*TWOPI);s.sort(),DF._x(MID,MID,.2*FARL*(SIZE/400),s),_h(),d1()}function d1(){cf=ccs[ci],ci>=ccs.length-1&&(co=2),ci<=0&&(co=1),1==co?ci++:ci--,w1(),ai=requestAnimationFrame(d1)}function w1(){nc=[],nvc=[];for(let t=0;t<NMAX;t++)nc[t]=[0,0,0,0],nvc[t]=[0,0,0,0];let t=s1(DF),s=DF._t(nc),i=nc.slice(0,s);if(ps)i=pp.shift(),pp.length>=pn*sc?(pe=!0,pf=!1):(pe=!1,pf=!0);else if(gf?dp.push(i):i=dp.pop(),null==i)return void _se();if(_l(i),Math.random()<.1){let t=DF._u(nvc);_k(i=nvc.slice(0,t))}return t}function s1(t){if(ps)0==pp.length&&(ps=!1,sc<RYTHM-1?sc++:sc=1,sl=step_unit*sc);else if(gf&&(t._a(STP),_d(t,NEARL)),c1(sl,t))if(sc<RYTHM-1){ps=!0;let t=dp.length;for(let s=1;s<=pn*sc;s++)pp.push(dp[t-s]);for(let s=pn*sc;s>0;s--)pp.push(dp[t-s])}else 1==RYTHM&&cancelAnimationFrame(ai),gf&&(cancelAnimationFrame(ai),_sl(1e3*p1(RYTHM+1)),ai=requestAnimationFrame(d1)),gf=!1}function c1(t,s){CS=t;let i=s.a1(3*STP)<0;return CS=RS,i}function _sl(t){let s=Date.now(),i=null;do{i=Date.now()}while(i-s<t)}_se();